{"text": "override fun onServiceFound(serviceInfo: NsdServiceInfo) {\r\n    val rawType = serviceInfo.serviceType ?: return\r\n    val name = serviceInfo.serviceName\r\n\r\n    Log.i(TAG, \"FOUND: name=$name, rawType=$rawType\")\r\n\r\n    // Normalize all possible variants\r\n    val typeNorm = rawType\r\n        .replace(\".local.\", \"\")\r\n        .replace(\".local\", \"\")\r\n        .trimEnd('.')\r\n\r\n    if (typeNorm != \"_123tome._tcp\") {\r\n        Log.i(TAG, \"IGNORED: typeNorm=$typeNorm\")\r\n        return\r\n    }\r\n\r\n    Log.i(TAG, \"MATCHED service, resolving: $name\")\r\n\r\n    if (!isResolving) {\r\n        isResolving = true\r\n        resolveListener?.let {\r\n            nsdManager.resolveService(serviceInfo, it)\r\n        }\r\n    }\r\n}\r\n", "timestamp": 1763574677992}